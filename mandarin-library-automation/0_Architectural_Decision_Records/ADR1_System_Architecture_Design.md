# System Architecture Design

ADR 1: 系统架构设计

- 状态：决定
- 决定者：PM - 陈欣洋
- 日期：2020-02-19

## 背景

针对项目要求使用B-S结构实现本系统，使用标准的前端(B)-业务/API(S)-持久/数据库(S)架构作为基础进行设计。

## 可选方案

- Python Django全栈
  - 优势：基于Python，语言本身上手成本低，扩展性强，易于快速开发
  - 优势：整个系统均在Django中实现，整合整个技术栈于一个开发框架中，易于团队交流协作与人员流动。
  - 优势：仅有一个服务器应用，易于测试与部署。
  - 权衡：整个系统仅需一次建模，该模型同时用于数据库、前端、业务，使得同步更改比较容易；然而一次更改会影响整个系统。
  - 劣势：服务端渲染HTML，渲染模板主要需自己从头编写，加入的JS为原生JS。
  - 劣势：Django的模型相对比较复杂，初期上手成本略高。

---

- Python SQLAlchemy, Flask + Vue.js
  - 说明：使用SQLAlchemy作为Object Relational Mapper管理数据库，Flask作为业务API层，Vue.js作为前端框架，前后端以RESTful API的形式进行沟通。
  - 优势：前后端解耦，限制测试复杂度，使得前后端开发可以比较独立。
  - 优势：Flask十分轻量，开发起来比较直接，易于快速上手。
  - 优势：SQLAlchemy完全管理数据库，数据库与业务层共用模型。
  - 优势：Vue.js作为前端框架比较容易上手，而且使得前端的模块性很强；有比较完善的组件生态。而且国内用得很多，中文文档、组件都比较全。
  - 劣势：前后端之间的API需要一些文档来帮助沟通。
  - 劣势：Vue.js使用JavaScript，开发团队较不熟悉。

---

- Java Spring Boot + JSP
  - 对比：与Django一样，提供相对均一的全栈框架，整个技术栈共用一套模型。
  - 优势：
  - 劣势：Java，估计会带来十分庞大的代码量，开发迭代困难，很多部分设计上过度复杂。

---

- 其他方案
  - 暂无。

## 结果

目前决定为采用第二个，Flask + Vue的方案。
